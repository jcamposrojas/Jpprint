<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
	<record id="cotizador_form" model="ir.ui.view">
	    <field name="name">cotizador_l10n_cl.product.form</field>
	    <field name="model">cotizador.producto</field>
	    <field name="arch" type="xml">
		<form string="Productos">
		    <sheet>
			<div class="oe_title">
			    <label for="name" string="Producto" />
			    <h1>
			        <field name="name" />
			    </h1>
			</div>
			<group>
			    <group>
			        <field name="nombre_corto" />
			        <field name="codigo" />
			        <field name="category_id" />
			        <field name="uom_id" />
			        <field name="analytic_account_id" />
		                <field name='default_gap' string="Gap por defecto (mm)"/>
			    </group>
			    <group>
		                <field name='use_cortes' widget="boolean_toggle"/>
			        <field name="corte_default" attrs="{'invisible':[('use_cortes', '!=', True)]}" widget="many2many_tags" />
			        <field name="hoja_ids" attrs="{'invisible':[('use_cortes', '=', True)]}" widget="many2many_tags" />
                                <label for="SS" string="SS / SX / RF"/>
                                <div class="o_row" id="ancho_ss_sx">
                                    <field name="SS" style="max-width:20px"/> / <field name="SX" style="max-width:20px"/> / <field name="RF" style="max-width:20px" />
                                </div>
			    </group>
                        </group>
			<notebook>
			    <page string="ConfiguraciÃ³n Base">
			        <group>
			            <group>
		                        <field name='use_bujes' widget="boolean_toggle"/>
		                        <field name='use_tinta_blanca' string="Usa Tinta Blanca (Jetrion)" widget="boolean_toggle"/>
		                        <field name='use_tabla_troquel' string="Usa Tabla Troqueles" widget="boolean_toggle"/>
		                        <field name='use_cinta_ttr' string="Usa Cinta TTR" widget="boolean_toggle"/>
		                        <field name='use_cuatricomia' string="Usa Colores" widget="boolean_toggle"/>
                                    </group>
			            <group>
		                        <field name='use_aisa' widget="boolean_toggle"/>
		                        <field name='use_adhesivo' widget="boolean_toggle"/>
                                    </group>
                                </group>
			    </page>
			    <page string="Sustratos Permitidos">
			        <group>
				    <field name="producto_sustrato_ids" nolabel="1"/>
                                </group>
			    </page>
			    <page string="Operaciones">
			        <group>
			            <field name="operation_ids" nolabel="1"/>
                                </group>
			    </page>
			    <page string="Consumos">
			        <group>
				    <field name="adicional_ids" nolabel="1" />
                                </group>
			    </page>
			    <page string="Consumos Obligatorios (NO USAR)">
			        <group>
			            <field name="consumo_ids" nolabel="1"/>
                                </group>
			    </page>
			    <page string="Cintas TTR" attrs="{'invisible':[('use_cinta_ttr','=',False)]}">
			        <group>
			            <field name="ttr_ids" nolabel="1"/>
                                </group>
			    </page>
			    <page string="Tinta Blanca" attrs="{'invisible':[('use_tinta_blanca','=',False)]}">
				<div class="row">
				<div class="col-6">
			            <group>
                                        <field name="tblanca_name" attrs="{'required':[('use_tinta_blanca','=',True)]}"/>
			            </group>
                                <group>
					<!--	
                                    <field name="cost_currency_id" invisible='1'/>
					-->
                                    <field name="product_uom_category_id" invisible='1'/>
                                    <field name="product_product_id" string="Producto inventariado"/>
                                    <field name="product_uom_id" string="UoM de Producto" attrs="{'readonly':[('product_product_id','!=',False)], 'invisible':[('product_product_id','=',False)]}"/>
                                    <field name="tblanca_standard_price" attrs="{'readonly':[('product_product_id','!=',False)], 'invisible':[('product_product_id','=',False)]}"/>
                                    <field name="tblanca_uom_id_de_consumo"/>
				    <field name="tblanca_costo_unitario_consumo" attrs="{'readonly':[('product_product_id','=',True)]}"/>
                                    <field name="tblanca_incluido_en_ldm" attrs="{'invisible':[('product_product_id','=',False)]}"/>
                                    <field name="tblanca_tipo_calculo" />
                                    <field name="tblanca_cantidad" />
                                </group>
			        </div>
				<div class="col-6">
			        <group>
                                    <field name="porcentaje_ids">
				        <tree editable='bottom'>
                                            <field name="porcentaje" />
                                            <field name="valor" />
                                            <field name="tblanca_costo_unitario_consumo" />
				        </tree>
				    </field>
			        </group>
			        </div>
			        </div>

			    </page>
			    <page string="Tabla Troqueles" attrs="{'invisible':[('use_tabla_troquel','=',False)]}">
			        <group>
			            <field name="tabla_troquel_ids" nolabel="1">
			                <tree editable="bottom">
                                            <field name="largo"/>
                                            <field name="ancho"/>
                                            <field name="z"/>
                                            <field name="etiquetas_al_ancho"/>
					    <field name="gap_minimo"/>
					    <field name="gap" string="Gap calculado"/>
                                            <field name="etiquetas_al_desarrollo"/>
                                            <field name="tipo_troquel"/>
                                            <field name="descripcion"/>
                                        </tree>
				    </field>
                                </group>
			    </page>
			    <page string="Colores" attrs="{'invisible':[('use_cuatricomia','=',False)]}">
			        <group string="Colores">
			            <group>
                                        <field name="color_cyan" domain="[('producto_id','=',id)]"/>
                                        <field name="color_yellow" domain="[('producto_id','=',id)]"/>
                                        <field name="color_black" domain="[('producto_id','=',id)]"/>
                                        <field name="color_magenta" domain="[('producto_id','=',id)]"/>
				    </group>
			            <group>
                                        <field name="color1" domain="[('producto_id','=',id)]"/>
                                        <field name="color2" domain="[('producto_id','=',id)]"/>
                                        <field name="color3" domain="[('producto_id','=',id)]"/>
                                        <field name="color4" domain="[('producto_id','=',id)]"/>
				    </group>
				</group>
			        <group string="Cliches">
			            <group>
                                        <field name="cliche_uom_id_de_consumo" />
                                        <field name="cliche_costo_unitario_consumo" />
				    </group>
			            <group>
                                        <field name="barniz" domain="[('producto_id','=',id)]"/>
				    </group>
				</group>
			    </page>
		        </notebook>
		    </sheet>
		</form>
	    </field>
	</record>

	<record id="cotizador_tree" model="ir.ui.view">
	    <field name="name">cotizador_l10n_cl.product.tree</field>
	    <field name="model">cotizador.producto</field>
	    <field name="arch" type="xml">
                <tree>
                    <field name="name" />
                    <field name="nombre_corto" />
                    <field name="codigo" />
		    <field name="category_id" />
		    <field name="analytic_account_id" />
		</tree>

	    </field>
	</record>

        <record id="product_mng_cotizador_action" model="ir.actions.act_window">
	    <field name="name">Productos</field>
	    <field name="res_model">cotizador.producto</field>
	    <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="product_mng_menu" parent="menu_mng_cotizador" action="product_mng_cotizador_action" sequence="10" />

    </data>
</odoo>
